#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
é«˜çº§æ•°æ®å¢å¼ºè„šæœ¬ - ä¸“é—¨é’ˆå¯¹æ—…æ¸¸è®¢å•èµ„æºæŠ½å–

åŸºäºä½ çš„å®é™…caseåˆ†æï¼Œæä¾›ä»¥ä¸‹å¢å¼ºç­–ç•¥ï¼š
1. é’ˆå¯¹"æ–°å¶å¤æ‘"ã€"å¤§æ…ˆå²©"ç­‰ä½é¢‘æ™¯ç‚¹çš„æ ·æœ¬ç”Ÿæˆ
2. é’ˆå¯¹"æ±Ÿæ¸…æœˆè¿‘äºº"ç­‰ç‰¹æ®Šæ¼”è‰ºé¡¹ç›®çš„æ ·æœ¬ç”Ÿæˆ
3. æ··åˆèµ„æºç»„åˆçš„å¢å¼º
"""

import json
import random
import copy
from collections import defaultdict
from typing import List, Dict, Any
import re

class AdvancedDataAugmenter:
    def __init__(self):
        # å®šä¹‰å„ç±»å˜é‡ç”¨äºæ•°æ®å¢å¼º
        self.dates = [
            "7æœˆ15æ—¥", "7æœˆ16æ—¥", "7æœˆ19æ—¥", "7æœˆ21æ—¥", "7æœˆ22æ—¥", "7æœˆ25æ—¥", 
            "7æœˆ26æ—¥", "7æœˆ27æ—¥", "8æœˆ1æ—¥", "8æœˆ2æ—¥", "8æœˆ3æ—¥", "8æœˆ5æ—¥", "8æœˆ6æ—¥"
        ]
        
        self.people_counts = [
            "8äºº", "12äºº", "15äºº", "18äºº", "22äºº", "25äºº", "28äºº", "32äºº", 
            "35äºº", "38äºº", "42äºº", "45äºº", "48äºº", "52äºº", "55äºº"
        ]
        
        self.travel_agencies = [
            "æ­å·å¤©ç¿¼", "è‹å·å¿«ä¹", "å»ºå¾·å…‰å¤§", "å»ºå¾·ä¸­æ—…", "å˜‰å…´ç±³å…°", 
            "æµ™æ±Ÿå‰ç¨‹", "ä¸Šæµ·ä¸œæ–¹", "å®æ³¢æµ·å¤©", "æ¸©å·å±±æ°´", "å°å·é˜³å…‰"
        ]
        
        self.guide_names = [
            ("å¼ ", "13567300196"), ("ç‹", "18806210530"), ("æ", "13958298707"),
            ("é™ˆ", "13868126262"), ("åˆ˜", "13588024400"), ("èµµ", "13819120723"),
            ("å­™", "13862111871"), ("å‘¨", "18989479865"), ("å´", "13805701560"),
            ("éƒ‘", "13396506951")
        ]
        
    def create_xinye_samples(self, count: int = 3) -> List[Dict[str, Any]]:
        """åˆ›å»ºæ–°å¶å¤æ‘çš„å¢å¼ºæ ·æœ¬"""
        samples = []
        
        templates = [
            "{agency}ï¼Œ{date}ï¼Œ{people}ï¼Œæ–°å¶å¤æ‘ï¼Œ\nå¯¼æ¸¸ï¼š{guide_name} {phone}",
            "{date} {agency}\næ–°å¶å¤æ‘é—¨ç¥¨+å¯¼æ¸¸æœåŠ¡\näººæ•°ï¼š{people}\nå¯¼æ¸¸è”ç³»ï¼š{guide_name} {phone}",
            "{agency}å›¢é˜Ÿï¼Œæ–°å¶å¤æ‘ä¸€æ—¥æ¸¸\næ—¥æœŸï¼š{date}\näººæ•°ï¼š{people}\né¢†é˜Ÿï¼š{guide_name}ï¼ˆ{phone}ï¼‰"
        ]
        
        for i in range(count):
            template = random.choice(templates)
            agency = random.choice(self.travel_agencies)
            date = random.choice(self.dates)
            people = random.choice(self.people_counts)
            guide_name, phone = random.choice(self.guide_names)
            
            input_text = template.format(
                agency=agency, date=date, people=people, 
                guide_name=guide_name, phone=phone
            )
            
            sample = {
                "instruction": "è¯·ä»OCRæ–‡æœ¬ä¸­æŠ½å–æ—…è¡Œè®¢å•ä¸­çš„æ‰€æœ‰èµ„æºåç§°ã€‚\n\nå¯è¯†åˆ«çš„èµ„æºåç§°åŒ…æ‹¬ï¼šä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†è‰è“é‡‡æ‘˜å…¥å›­ç¥¨ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†å°ç«è½¦ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†è‘«èŠ¦å±±åº„é¤é¥®ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†é—¨ç¥¨ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†æ¸¸èˆ¹ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸‰æ±Ÿå£æ¸¸çº¿ï¼ˆæ¸¸èˆ¹ï¼‰ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†åœè½¦åœºã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†è‘«èŠ¦å³¡æ¼‚æµã€åƒå²›æ¹–å¥½è¿å²›-åƒå²›æ¹–å¥½è¿å²›é—¨ç¥¨ã€åƒå²›æ¹–å¥½è¿å²›-åƒå²›æ¹–å¥½è¿å²›æ¸¸èˆ¹ã€çµæ –æ´-çµæ –æ´é—¨ç¥¨ã€çµæ –æ´-çµæ –æ´æ‰‹åˆ’èˆ¹ã€çµæ –æ´-çµæ –æ´è¥¿æ¸¸é­”æ¯¯ã€æ–°å®‰æ±Ÿ-æ–°å®‰æ±Ÿæ¸¸èˆ¹ã€å®¿æ±Ÿå…¬å¸-æ±Ÿæ¸…æœˆè¿‘äººå®æ™¯æ¼”è‰ºé—¨ç¥¨ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©é—¨ç¥¨ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©ç´¢é“ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©ä¸­é¤ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©é¤é¥®ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©åœè½¦åœºã€æ–°å¶å¤æ‘-æ–°å¶å¤æ‘é—¨ç¥¨ã€å¯¼æœä¸­å¿ƒ-çµæ –æ´æ™¯åŒºå¯¼æœã€‚",
                "input": input_text,
                "output": '{"resource_names": ["æ–°å¶å¤æ‘-æ–°å¶å¤æ‘é—¨ç¥¨"]}'
            }
            samples.append(sample)
            
        return samples
    
    def create_daciyan_samples(self, count: int = 2) -> List[Dict[str, Any]]:
        """åˆ›å»ºå¤§æ…ˆå²©ç´¢é“+é—¨ç¥¨çš„å¢å¼ºæ ·æœ¬"""
        samples = []
        
        templates = [
            "{agency}ï¼Œæ—¥æœŸï¼š{date} å¤§æ…ˆå²©ï¼ˆå«ä¸Šä¸‹ç´¢é“ï¼‰ï¼Œ\nå¯¼æ¸¸ï¼š{guide_name} {phone} äººæ•°{people}",
            "{date} {agency}\nå¤§æ…ˆå²©ç´¢é“+é—¨ç¥¨å¥—ç¥¨\n{people} å¯¼æ¸¸ï¼š{guide_name}ï¼ˆ{phone}ï¼‰",
        ]
        
        for i in range(count):
            template = random.choice(templates)
            agency = random.choice(self.travel_agencies)
            date = random.choice(self.dates)
            people = random.choice(self.people_counts)
            guide_name, phone = random.choice(self.guide_names)
            
            input_text = template.format(
                agency=agency, date=date, people=people,
                guide_name=guide_name, phone=phone
            )
            
            sample = {
                "instruction": "è¯·ä»OCRæ–‡æœ¬ä¸­æŠ½å–æ—…è¡Œè®¢å•ä¸­çš„æ‰€æœ‰èµ„æºåç§°ã€‚\n\nå¯è¯†åˆ«çš„èµ„æºåç§°åŒ…æ‹¬ï¼šä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†è‰è“é‡‡æ‘˜å…¥å›­ç¥¨ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†å°ç«è½¦ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†è‘«èŠ¦å±±åº„é¤é¥®ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†é—¨ç¥¨ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†æ¸¸èˆ¹ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸‰æ±Ÿå£æ¸¸çº¿ï¼ˆæ¸¸èˆ¹ï¼‰ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†åœè½¦åœºã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†è‘«èŠ¦å³¡æ¼‚æµã€åƒå²›æ¹–å¥½è¿å²›-åƒå²›æ¹–å¥½è¿å²›é—¨ç¥¨ã€åƒå²›æ¹–å¥½è¿å²›-åƒå²›æ¹–å¥½è¿å²›æ¸¸èˆ¹ã€çµæ –æ´-çµæ –æ´é—¨ç¥¨ã€çµæ –æ´-çµæ –æ´æ‰‹åˆ’èˆ¹ã€çµæ –æ´-çµæ –æ´è¥¿æ¸¸é­”æ¯¯ã€æ–°å®‰æ±Ÿ-æ–°å®‰æ±Ÿæ¸¸èˆ¹ã€å®¿æ±Ÿå…¬å¸-æ±Ÿæ¸…æœˆè¿‘äººå®æ™¯æ¼”è‰ºé—¨ç¥¨ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©é—¨ç¥¨ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©ç´¢é“ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©ä¸­é¤ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©é¤é¥®ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©åœè½¦åœºã€æ–°å¶å¤æ‘-æ–°å¶å¤æ‘é—¨ç¥¨ã€å¯¼æœä¸­å¿ƒ-çµæ –æ´æ™¯åŒºå¯¼æœã€‚",
                "input": input_text,
                "output": '{"resource_names": ["å¤§æ…ˆå²©-å¤§æ…ˆå²©ç´¢é“", "å¤§æ…ˆå²©-å¤§æ…ˆå²©é—¨ç¥¨"]}'
            }
            samples.append(sample)
            
        return samples
    
    def create_jiangqing_samples(self, count: int = 4) -> List[Dict[str, Any]]:
        """åˆ›å»ºæ±Ÿæ¸…æœˆè¿‘äººç›¸å…³çš„å¢å¼ºæ ·æœ¬"""
        samples = []
        
        # çº¯æ±Ÿæ¸…æœˆè¿‘äººæ ·æœ¬
        for i in range(2):
            agency = random.choice(self.travel_agencies)
            date = random.choice(self.dates)
            people = random.choice(self.people_counts)
            guide_name, phone = random.choice(self.guide_names)
            
            input_text = f"{agency}ï¼Œ{date}ï¼Œ{people}ï¼Œæ±Ÿæ¸…æœˆè¿‘äººæ¼”å‡ºï¼Œå¯¼æ¸¸ï¼š{guide_name} {phone}"
            
            sample = {
                "instruction": "è¯·ä»OCRæ–‡æœ¬ä¸­æŠ½å–æ—…è¡Œè®¢å•ä¸­çš„æ‰€æœ‰èµ„æºåç§°ã€‚\n\nå¯è¯†åˆ«çš„èµ„æºåç§°åŒ…æ‹¬ï¼šä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†è‰è“é‡‡æ‘˜å…¥å›­ç¥¨ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†å°ç«è½¦ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†è‘«èŠ¦å±±åº„é¤é¥®ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†é—¨ç¥¨ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†æ¸¸èˆ¹ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸‰æ±Ÿå£æ¸¸çº¿ï¼ˆæ¸¸èˆ¹ï¼‰ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†åœè½¦åœºã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†è‘«èŠ¦å³¡æ¼‚æµã€åƒå²›æ¹–å¥½è¿å²›-åƒå²›æ¹–å¥½è¿å²›é—¨ç¥¨ã€åƒå²›æ¹–å¥½è¿å²›-åƒå²›æ¹–å¥½è¿å²›æ¸¸èˆ¹ã€çµæ –æ´-çµæ –æ´é—¨ç¥¨ã€çµæ –æ´-çµæ –æ´æ‰‹åˆ’èˆ¹ã€çµæ –æ´-çµæ –æ´è¥¿æ¸¸é­”æ¯¯ã€æ–°å®‰æ±Ÿ-æ–°å®‰æ±Ÿæ¸¸èˆ¹ã€å®¿æ±Ÿå…¬å¸-æ±Ÿæ¸…æœˆè¿‘äººå®æ™¯æ¼”è‰ºé—¨ç¥¨ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©é—¨ç¥¨ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©ç´¢é“ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©ä¸­é¤ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©é¤é¥®ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©åœè½¦åœºã€æ–°å¶å¤æ‘-æ–°å¶å¤æ‘é—¨ç¥¨ã€å¯¼æœä¸­å¿ƒ-çµæ –æ´æ™¯åŒºå¯¼æœã€‚",
                "input": input_text,
                "output": '{"resource_names": ["å®¿æ±Ÿå…¬å¸-æ±Ÿæ¸…æœˆè¿‘äººå®æ™¯æ¼”è‰ºé—¨ç¥¨"]}'
            }
            samples.append(sample)
        
        # æ±Ÿæ¸…æœˆè¿‘äºº+æ–°å®‰æ±Ÿæ¸¸èˆ¹ç»„åˆæ ·æœ¬
        for i in range(2):
            agency = random.choice(self.travel_agencies)
            date = random.choice(self.dates)
            people = random.choice(self.people_counts)
            guide_name, phone = random.choice(self.guide_names)
            
            input_text = f"{agency}ï¼Œ{date}ï¼Œ{people}ï¼Œæ±Ÿæ¸…æœˆè¿‘äºº+æ–°å®‰æ±Ÿæ¸¸èˆ¹ï¼Œå¯¼æ¸¸ï¼š{guide_name} {phone}"
            
            sample = {
                "instruction": "è¯·ä»OCRæ–‡æœ¬ä¸­æŠ½å–æ—…è¡Œè®¢å•ä¸­çš„æ‰€æœ‰èµ„æºåç§°ã€‚\n\nå¯è¯†åˆ«çš„èµ„æºåç§°åŒ…æ‹¬ï¼šä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†è‰è“é‡‡æ‘˜å…¥å›­ç¥¨ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†å°ç«è½¦ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†è‘«èŠ¦å±±åº„é¤é¥®ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†é—¨ç¥¨ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†æ¸¸èˆ¹ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸‰æ±Ÿå£æ¸¸çº¿ï¼ˆæ¸¸èˆ¹ï¼‰ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†åœè½¦åœºã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†è‘«èŠ¦å³¡æ¼‚æµã€åƒå²›æ¹–å¥½è¿å²›-åƒå²›æ¹–å¥½è¿å²›é—¨ç¥¨ã€åƒå²›æ¹–å¥½è¿å²›-åƒå²›æ¹–å¥½è¿å²›æ¸¸èˆ¹ã€çµæ –æ´-çµæ –æ´é—¨ç¥¨ã€çµæ –æ´-çµæ –æ´æ‰‹åˆ’èˆ¹ã€çµæ –æ´-çµæ –æ´è¥¿æ¸¸é­”æ¯¯ã€æ–°å®‰æ±Ÿ-æ–°å®‰æ±Ÿæ¸¸èˆ¹ã€å®¿æ±Ÿå…¬å¸-æ±Ÿæ¸…æœˆè¿‘äººå®æ™¯æ¼”è‰ºé—¨ç¥¨ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©é—¨ç¥¨ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©ç´¢é“ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©ä¸­é¤ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©é¤é¥®ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©åœè½¦åœºã€æ–°å¶å¤æ‘-æ–°å¶å¤æ‘é—¨ç¥¨ã€å¯¼æœä¸­å¿ƒ-çµæ –æ´æ™¯åŒºå¯¼æœã€‚",
                "input": input_text,
                "output": '{"resource_names": ["å®¿æ±Ÿå…¬å¸-æ±Ÿæ¸…æœˆè¿‘äººå®æ™¯æ¼”è‰ºé—¨ç¥¨", "æ–°å®‰æ±Ÿ-æ–°å®‰æ±Ÿæ¸¸èˆ¹"]}'
            }
            samples.append(sample)
            
        return samples
        
    def create_mixed_samples(self, count: int = 3) -> List[Dict[str, Any]]:
        """åˆ›å»ºå¤æ‚æ··åˆèµ„æºçš„æ ·æœ¬"""
        samples = []
        
        # å¤§æ…ˆå²©+æ–°å¶å¤æ‘ç»„åˆ
        agency = random.choice(self.travel_agencies)
        date1 = random.choice(self.dates)
        date2 = random.choice(self.dates)
        people = random.choice(self.people_counts)
        guide_name, phone = random.choice(self.guide_names)
        
        input_text = f"{agency}ï¼Œæ—¥æœŸï¼š{date1}å¤§æ…ˆå²©ï¼ˆå«ä¸Šä¸‹ç´¢é“ï¼‰ï¼Œ{date2}æ–°å¶å¤æ‘\nå¯¼æ¸¸ï¼š{guide_name} {phone} äººæ•°{people}"
        
        sample = {
            "instruction": "è¯·ä»OCRæ–‡æœ¬ä¸­æŠ½å–æ—…è¡Œè®¢å•ä¸­çš„æ‰€æœ‰èµ„æºåç§°ã€‚\n\nå¯è¯†åˆ«çš„èµ„æºåç§°åŒ…æ‹¬ï¼šä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†è‰è“é‡‡æ‘˜å…¥å›­ç¥¨ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†å°ç«è½¦ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†è‘«èŠ¦å±±åº„é¤é¥®ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†é—¨ç¥¨ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†æ¸¸èˆ¹ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸‰æ±Ÿå£æ¸¸çº¿ï¼ˆæ¸¸èˆ¹ï¼‰ã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†åœè½¦åœºã€ä¸ƒé‡Œæ‰¬å¸†-ä¸ƒé‡Œæ‰¬å¸†è‘«èŠ¦å³¡æ¼‚æµã€åƒå²›æ¹–å¥½è¿å²›-åƒå²›æ¹–å¥½è¿å²›é—¨ç¥¨ã€åƒå²›æ¹–å¥½è¿å²›-åƒå²›æ¹–å¥½è¿å²›æ¸¸èˆ¹ã€çµæ –æ´-çµæ –æ´é—¨ç¥¨ã€çµæ –æ´-çµæ –æ´æ‰‹åˆ’èˆ¹ã€çµæ –æ´-çµæ –æ´è¥¿æ¸¸é­”æ¯¯ã€æ–°å®‰æ±Ÿ-æ–°å®‰æ±Ÿæ¸¸èˆ¹ã€å®¿æ±Ÿå…¬å¸-æ±Ÿæ¸…æœˆè¿‘äººå®æ™¯æ¼”è‰ºé—¨ç¥¨ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©é—¨ç¥¨ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©ç´¢é“ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©ä¸­é¤ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©é¤é¥®ã€å¤§æ…ˆå²©-å¤§æ…ˆå²©åœè½¦åœºã€æ–°å¶å¤æ‘-æ–°å¶å¤æ‘é—¨ç¥¨ã€å¯¼æœä¸­å¿ƒ-çµæ –æ´æ™¯åŒºå¯¼æœã€‚",
            "input": input_text,
            "output": '{"resource_names": ["å¤§æ…ˆå²©-å¤§æ…ˆå²©ç´¢é“", "å¤§æ…ˆå²©-å¤§æ…ˆå²©é—¨ç¥¨", "æ–°å¶å¤æ‘-æ–°å¶å¤æ‘é—¨ç¥¨"]}'
        }
        samples.append(sample)
        
        return samples
    
    def generate_all_samples(self) -> List[Dict[str, Any]]:
        """ç”Ÿæˆæ‰€æœ‰å¢å¼ºæ ·æœ¬"""
        all_samples = []
        
        print("ğŸ”„ æ­£åœ¨ç”Ÿæˆå¢å¼ºæ ·æœ¬...")
        
        # æ–°å¶å¤æ‘æ ·æœ¬
        xinye_samples = self.create_xinye_samples(3)
        all_samples.extend(xinye_samples)
        print(f"âœ… ç”Ÿæˆæ–°å¶å¤æ‘æ ·æœ¬: {len(xinye_samples)}ä¸ª")
        
        # å¤§æ…ˆå²©ç´¢é“æ ·æœ¬  
        daciyan_samples = self.create_daciyan_samples(2)
        all_samples.extend(daciyan_samples)
        print(f"âœ… ç”Ÿæˆå¤§æ…ˆå²©ç´¢é“æ ·æœ¬: {len(daciyan_samples)}ä¸ª")
        
        # æ±Ÿæ¸…æœˆè¿‘äººæ ·æœ¬
        jiangqing_samples = self.create_jiangqing_samples(4)
        all_samples.extend(jiangqing_samples)
        print(f"âœ… ç”Ÿæˆæ±Ÿæ¸…æœˆè¿‘äººæ ·æœ¬: {len(jiangqing_samples)}ä¸ª")
        
        # æ··åˆæ ·æœ¬
        mixed_samples = self.create_mixed_samples(1)
        all_samples.extend(mixed_samples)
        print(f"âœ… ç”Ÿæˆæ··åˆèµ„æºæ ·æœ¬: {len(mixed_samples)}ä¸ª")
        
        print(f"\nğŸ“Š æ€»è®¡ç”Ÿæˆå¢å¼ºæ ·æœ¬: {len(all_samples)}ä¸ª")
        
        return all_samples

def main():
    augmenter = AdvancedDataAugmenter()
    
    print("ğŸš€ å¼€å§‹é«˜çº§æ•°æ®å¢å¼º...")
    print("=" * 50)
    
    # ç”Ÿæˆå¢å¼ºæ ·æœ¬
    enhanced_samples = augmenter.generate_all_samples()
    
    # ä¿å­˜å¢å¼ºæ ·æœ¬
    output_file = "enhanced_samples.json"
    with open(output_file, 'w', encoding='utf-8') as f:
        json.dump(enhanced_samples, f, ensure_ascii=False, indent=2)
    
    print(f"\nğŸ’¾ å¢å¼ºæ ·æœ¬å·²ä¿å­˜åˆ°: {output_file}")
    print("ğŸ‰ æ•°æ®å¢å¼ºå®Œæˆï¼")
    
    # æ˜¾ç¤ºæ ·æœ¬é¢„è§ˆ
    print("\nğŸ“‹ æ ·æœ¬é¢„è§ˆ:")
    print("-" * 30)
    for i, sample in enumerate(enhanced_samples[:3]):
        print(f"\næ ·æœ¬ {i+1}:")
        print(f"è¾“å…¥: {sample['input'][:100]}...")
        print(f"è¾“å‡º: {sample['output']}")

if __name__ == "__main__":
    main()
